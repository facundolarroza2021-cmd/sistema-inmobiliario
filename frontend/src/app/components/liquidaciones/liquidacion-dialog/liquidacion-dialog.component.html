<h2 mat-dialog-title class="dialog-header liquidacion-header">
  <mat-icon>point_of_sale</mat-icon>
  Generar Liquidación
</h2>

<mat-dialog-content class="dialog-content-custom">
  
  <div class="info-box pink-info-box">
    <mat-icon class="info-icon">info</mat-icon>
    <p>
      El sistema calculará: <strong>Alquiler - Comisión = Monto a Liquidar</strong> para el período seleccionado.
    </p>
  </div>

  <div class="form-fields-container">
    
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Propietario</mat-label>
      <mat-select [(ngModel)]="data.propietario_id" required>
        <mat-option *ngFor="let p of listaPropietarios" [value]="p.id">
          {{ p.nombre_completo }}
        </mat-option>
      </mat-select>
      <mat-icon matSuffix>person</mat-icon>
      <mat-error *ngIf="!data.propietario_id">El propietario es obligatorio.</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Período a Liquidar (YYYY-MM)</mat-label>
      <input matInput type="month" [(ngModel)]="data.periodo" required placeholder="Ej: 2025-12">
      <mat-icon matSuffix>calendar_today</mat-icon>
      <mat-error *ngIf="!data.periodo">El período es obligatorio.</mat-error>
    </mat-form-field>

  </div>

</mat-dialog-content>

<mat-dialog-actions align="end" class="dialog-actions-custom gray-footer">
  <button mat-button mat-dialog-close>Cancelar</button>
  <button mat-raised-button 
          color="primary" 
          class="confirm-button pink-confirm" 
          (click)="confirmar()"
          [disabled]="!data.propietario_id || !data.periodo">
      <mat-icon>calculate</mat-icon> Generar Pago
  </button>
</mat-dialog-actions>